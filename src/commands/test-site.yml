description: >
  we can use html-proofer to check our site structure

parameters:
  site-folder:
    description: location of the generated jekyll site
    default: _site
    type: string

steps:
  - run: |
      [[ -z `find ./<< parameters.site-folder >> -type f -name '*.json' -quit` ]] &&
      FILES=$(find ./<< parameters.site-folder >> -type f -name '*.json' -print) &&
      jsonlint $FILES

  - run: htmlproofer ./<< parameters.site-folder >> --check-html --disable-external --check-opengraph --check-favicon
